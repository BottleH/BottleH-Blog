---
title: 02. Gradleì˜ Task
thumbnail: ./images/build/gradle.png
date: 2021-09-17 16:10:51
category: Back-End
tags: [Build Tool, Gradle]
draft: false
---

# 02. Gradleì˜ Task

Gradleì€ ëª…ë ¹ì— ì˜í•´ **í…ŒìŠ¤í¬(task)** ì„ ìˆ˜í–‰í•  ìˆ˜ ìžˆë‹¤.




## ðŸ› Task



### 01. ê¸°ë³¸

`build.gradle`ì—ì„œ í…ŒìŠ¤í¬ì˜ ì²˜ë¦¬ë¥¼ ê¸°ìˆ í•´ë‘ë©´, ê·¸ê²ƒì„ gradle ëª…ë ¹ìœ¼ë¡œ í˜¸ì¶œ ì‹¤í–‰ ì‹œí‚¬ ìˆ˜ ìžˆë‹¤.

```groovy
task í…ŒìŠ¤í¬ëª… {
    ì²˜ë¦¬
}

task hello {
    println('hello world')
}
```

### 02. doFirstì™€ doLast

```groovy
task í…ŒìŠ¤í¬ëª… {

    doFirst {
         ì²˜ë¦¬
    }
    
    doLast {
         ì²˜ë¦¬
    }
}
```

- doFirst : ìµœì´ˆì— ìˆ˜í–‰í•˜ëŠ” ì•¡ì…˜
- doLast : ìµœí›„ì— ìˆ˜í–‰ í•˜ëŠ” ì•¡ì…˜

### 03. ë§¤ê°œë³€ìˆ˜ ì „ë‹¬

```groovy
task hello {
    doLast {
        def n = max.toInteger()
        for(def i in 1..n){
            println("No," + i + " count.")
        }
        println("--end.")
    }
}
```

íƒœìŠ¤í¬ëŠ” ìˆ˜í–‰í•  ë•Œ í•„ìš”í•œ ê°’ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìžˆë‹¤.

```bash
$ gradle hello -Pmax=ê°’
```

ìœ„ì™€ ê°™ì€ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ê°€ëŠ¥í•˜ë‹¤.

### 04. ë‹¤ë¥¸ í…ŒìŠ¤í¬ í˜¸ì¶œ

```groovy
task a {â€¦â€¦}

tasks.a.execute()
```

ìž‘ì—…í•˜ëŠ” ê²ƒì€ ëª¨ë“  tasksë¼ê³  ê°ì²´ì— ì •ë¦¬í•˜ê³  ìžˆìœ¼ë©° ê·¸ ì¤‘ `execute` ë¥¼ í˜¸ì¶œí•´ ì‹¤í–‰í•œë‹¤.

### 05. ì¢…ì† í…ŒìŠ¤í¬ ì§€ì •

ì–´ë–¤ í…ŒìŠ¤í¬ë¥¼ ìˆ˜í–‰í•  ë•Œ, ë‹¤ë¥¸ ìž‘ì—… ìˆ˜í–‰ì´ í•„ìˆ˜ì ì¸ ê²½ìš°ì—ëŠ” `dependsOn`ì„ ì‚¬ìš©í•œë‹¤.

```groovy
task í…ŒìŠ¤í¬ëª… (dependsOn : 'í…ŒìŠ¤í¬') {
    ì²˜ë¦¬
}

task í…ŒìŠ¤í¬ëª… {
    dependsOn : 'í…ŒìŠ¤í¬'
    ì²˜ë¦¬
}
```

ìœ„ì™€ ê°™ì€ ë°©ë²•ë“¤ì„ ì´ìš©í•˜ë©´ ìž‘ì—…ì´ í˜¸ì¶œë  ë•Œ, ë¨¼ì € `dependsOn`ì— ì§€ì •ëœ ìž‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ê·¸ê²ƒì´ ëë‚œ í›„ì— í…ŒìŠ¤í¬ì˜ ë³¸ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•¨.

### 06. Default Task ìƒì† í´ëž˜ìŠ¤

Gradleì€ í‘œì¤€ìœ¼ë¡œ ë‹¤ì–‘í•œ í…ŒìŠ¤í¬ê°€ í¬í•¨ë˜ì–´ ìžˆëŠ”ë°, ì´ê²ƒë“¤ì€ `DefaultTask`ë¼ëŠ” í´ëž˜ìŠ¤ë¥¼ ìƒì†í•œ í´ëž˜ìŠ¤ì´ë‹¤.

```groovy
class í´ëž˜ìŠ¤ extends DefaultTask {
    ...... í•„ë“œ ......

    void ë©”ì†Œë“œ(ì¸ìˆ˜) {
        ...... ì²˜ë¦¬ ......
    }

    @TaskAction
    void ë©”ì†Œë“œ() {
        ...... ì²˜ë¦¬ ......
    }
}
```

 í…ŒìŠ¤í¬ë¡œ ìˆ˜í–‰í•  ì²˜ë¦¬ë¥¼ ë©”ì†Œë“œë¡œ ì œê³µí•œë‹¤. ì´ ë©”ì†Œë“œì—ëŠ” `@TaskAction` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì¸ë‹¤.

- ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” private í•„ë“œë¡œ ì„¤ì •í•˜ì—¬ ì ‘ê·¼ì„ ìœ„í•œ ë©”ì†Œë“œë¥¼ ë”°ë¡œ ì œê³µí•˜ìž.



> reference: https://gradle.org/   http://www.devkuma.com/books/pages/1064
