---
title: Spring Filterì™€ Interceptor
thumbnail: ./images/spring/spring.png
date: 2021-06-26 03:15:51
category: Back-End
tags: [Spring]
draft: false
---

# Spring Filterì™€ Interceptor



## ğŸ› Filter

J2EE í‘œì¤€ìŠ¤í™ì¸ í•„í„°(Filter)ëŠ” Dispatcher Servletì— ìš”ì²­ì´ ì „ë‹¬ë˜ê¸° ì „/í›„ì— url íŒ¨í„´ì— ë§ëŠ” ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ ë¶€ê°€ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. 

- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì•„ë‹Œ í†°ìº£ê³¼ ê°™ì€ ì›¹ì»¨í…Œì´ë„ˆ(WAS)ì— ì˜í•´ ê´€ë¦¬ê°€ ë˜ë¯€ë¡œ ë””ìŠ¤íŒ¨ì²˜ ì„œë¸”ë¦¿ìœ¼ë¡œ ê°€ê¸° ì „ì— ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒ
- HTTP Request â†’ WAS â†’ í•„í„° â†’ ì„œë¸”ë¦¿ â†’ ì»¨íŠ¸ë¡¤ëŸ¬



### Filterì˜ ë©”ì†Œë“œ

**init**

- í•„í„° ê°ì²´ë¥¼ ì´ˆê¸°í™”í•˜ê³  ì„œë¹„ìŠ¤ì— ì¶”ê°€í•˜ê¸° ìœ„í•œ ë©”ì†Œë“œ

- ì›¹ ì»¨í…Œì´ë„ˆê°€ 1íšŒ `init` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ í•„í„° ê°ì²´ë¥¼ ì´ˆê¸°í™”í•˜ë©´ ì´í›„ì˜ ìš”ì²­ë“¤ì€ `doFilter`ë¥¼ í†µí•´ ì „/í›„ì— ì²˜ë¦¬

 

**doFilter**

- url-patternì— ë§ëŠ” ëª¨ë“  HTTP ìš”ì²­ì´ ë””ìŠ¤íŒ¨ì²˜ ì„œë¸”ë¦¿ìœ¼ë¡œ ì „ë‹¬ë˜ê¸° ì „/í›„ì— ì›¹ ì»¨í…Œì´ë„ˆì— ì˜í•´ ì‹¤í–‰

- `doFilter`ì˜ íŒŒë¼ë¯¸í„°ë¡œëŠ” `FilterChain`ì´ ìˆëŠ”ë°, `FilterChain`ì˜ `doFilter` í†µí•´ ë‹¤ìŒ ëŒ€ìƒìœ¼ë¡œ ìš”ì²­ì„ ì „ë‹¬

 

**destroy**

- í•„í„° ê°ì²´ë¥¼ ì„œë¹„ìŠ¤ì—ì„œ ì œê±°í•˜ê³  ì‚¬ìš©í•˜ëŠ” ìì›ì„ ë°˜í™˜

- ì›¹ ì»¨í…Œì´ë„ˆì— ì˜í•´ 1ë²ˆ í˜¸ì¶œë˜ë©° ì´í›„ì—ëŠ” `doFilter`ì— ì˜í•´ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤.



## ğŸ› Interceptor

Springì´ ì œê³µí•˜ëŠ” ê¸°ìˆ ë¡œì¨, ë””ìŠ¤íŒ¨ì²˜ ì„œë¸”ë¦¿(Dispatcher Servlet)ì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•˜ê¸° ì „ê³¼ í›„ì— ìš”ì²­ê³¼ ì‘ë‹µì„ ì°¸ì¡°í•˜ê±°ë‚˜ ê°€ê³µí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µ

- ì›¹ ì»¨í…Œì´ë„ˆì—ì„œ ë™ì‘í•˜ëŠ” í•„í„°ì™€ ë‹¬ë¦¬ ì¸í„°ì…‰í„°ëŠ” ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë™ì‘ì„ í•˜ëŠ” ê²ƒì´ë‹¤.
- HTTP Request â†’ WAS â†’ í•„í„° â†’ ì„œë¸”ë¦¿ â†’ ìŠ¤í”„ë§ ì¸í„°ì…‰í„° â†’ ì»¨íŠ¸ë¡¤ëŸ¬



### Interceptorì˜ ë©”ì†Œë“œ

**preHandle**

- ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œë˜ê¸° ì „ì— ì‹¤í–‰

**postHandle**

- ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œëœ í›„ì— ì‹¤í–‰

**afterCompletion**

- ëª¨ë“  ë·°ì—ì„œ ìµœì¢… ê²°ê³¼ë¥¼ ìƒì„±í•˜ëŠ” ì¼ì„ í¬í•¨í•´ ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œëœ í›„ì— ì‹¤í–‰



> reference: í† ë¹„ì˜ ìŠ¤í”„ë§ vol2, [bryceë‹˜ ë¸”ë¡œê·¸](https://bryceyangs.github.io/study/2021/10/04/Spring-%EC%84%9C%EB%B8%94%EB%A6%BF-%ED%95%84%ED%84%B0-%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0/)

