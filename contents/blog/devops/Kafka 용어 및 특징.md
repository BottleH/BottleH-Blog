---
title: ì•„íŒŒì¹˜ ì¹´í”„ì¹´(Apache Kafka)ì˜ ìš©ì–´ ë° íŠ¹ì§•
thumbnail: ./images/bigdata/kafka.png
date: 2021-05-10 15:55:59
category: DevOps
tags: [BigData, Kafka]
draft: false
---

# ì•„íŒŒì¹˜ ì¹´í”„ì¹´ëž€?
ì¹´í”„ì¹´ëŠ” ë§í¬ë“œì¸ì—ì„œ ê°œë°œí•œ **ëŒ€ìš©ëŸ‰, ëŒ€ê·œëª¨ ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œìŠ¤í…œ**ì´ë‹¤.



## âš™Pub-Sub êµ¬ì¡°

ì¹´í”„ì¹´ëŠ” `Publisher` / `Subscriber` ëª¨ë¸ì„ ì‚¬ìš©í•œë‹¤. publisherëŠ” ë©”ì„¸ì§€ë¥¼ topicì„ í†µí•´ì„œ ì¹´í…Œê³ ë¦¬í™”í•˜ê³ , í•´ë‹¹ topicì„ subscribe í•¨ìœ¼ë¡œì¨ ë©”ì„¸ì§€ë¥¼ ì½ì–´ ì˜¬ ìˆ˜ ìžˆë‹¤. ìž ê·¸ë ‡ë‹¤ë©´, Kafkaì˜ ìš©ì–´ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ìž.



## ðŸ› ì¹´í”„ì¹´ì˜ ìš©ì–´ 

- `broker` : ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì„œë²„
  - ë™ì¼í•œ ë…¸ë“œ ë‚´ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ë¸Œë¡œì»¤ ì„œë²„ë¥¼ ë„ìš¸ ìˆ˜ ìžˆë‹¤.
- `topic` : `producer`ì™€ `consumer`ê°€ ë°ì´í„°ë¥¼ ë‹´ì€ Que
- `partition` : topicì„ ë¶„í• í•˜ëŠ” ë‹¨ìœ„
  - í•œê°œì˜ íŒŒí‹°ì…˜ì€ ìµœëŒ€ í•œê°œì˜ consumerì—ê²Œ í• ë‹¹ ê°€ëŠ¥í•˜ë‹¤.
  - ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë¶„í• í•˜ëŠ” ê²ƒì´ë‹¤.
  - Round Robin ë°©ì‹ìœ¼ë¡œ ì €ìž¥(ìˆœì°¨ì ìœ¼ë¡œ ì“°ì—¬ì§€ì§€ ì•ŠìŒ.)
- `producer` : topicì— ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ëŠ” ì£¼ì²´
- `consumer` : topicì˜ ë©”ì‹œì§€ë¥¼ êµ¬ë…í•˜ëŠ” ì£¼ì²´
  - offsetì„ í†µí•œ ì½ì€ ìœ„ì¹˜ ê´€ë¦¬
- `offset` : topicì˜ partitionë§ˆë‹¤ í• ë‹¹ëœ **consumerê°€ í˜„ìž¬ê¹Œì§€ ì½ì€ ìœ„ì¹˜ì— ëŒ€í•œ ì •ë³´**ë¥¼ offsetìœ¼ë¡œ ì €ìž¥í•œë‹¤.
- `comsumer group` : íŠ¹ì • ì»¨ìŠˆë¨¸ë“¤ì˜ ë¬¶ìŒ
  - **ë°˜ë“œì‹œ í•´ë‹¹ topicì˜ íŒŒí‹°ì…˜ì€ ê·¸ consumer groupê³¼ 1:n ë§¤ì¹­ì„ í•´ì•¼í•œë‹¤.**
- `rebalance` : ì»¨ìŠˆë¨¸ ê·¸ë£¹ë‚´ì—ì„œ ì»¨ìŠˆë¨¸ë“¤ì˜ íŒŒí‹°ì…˜ ì†Œìœ ê¶Œ ì¡°ì •ì„ í•˜ëŠ” ìž‘ì—…
- `replication factor` : í•˜ë‚˜ì˜ í† í”½ì„ ëª‡ê°œì˜ ë¸Œë¡œì»¤ì— ë¶„ì‚° ì €ìž¥í• ì§€ ê²°ì •í•˜ëŠ” factor
- `ACK` : producer ìƒì„¸ì˜µì…˜
  - **0** : producerê°€ í† í”½ì„ leaderì— ì „ì†¡ í›„ ë°˜í™˜ê°’ì„ ë°›ì§€ì•ŠëŠ”ë‹¤.
  - **1** : producerê°€ í† í”½ì„ leaderì— ì „ì†¡ í›„ ë¦¬ë”ì˜ ì •ìƒì²˜ë¦¬ë§Œ í™•ì¸í•œë‹¤.
  - **ALL** : producerê°€ í† í”½ì„ leaderì— ì „ì†¡ í›„ ë¦¬ë” ë° íŒ”ë¡œì›Œ ëª¨ë‘ì˜ ì •ìƒì²˜ë¦¬ë¥¼ í™•ì¸í•œë‹¤.



> reference: https://kafka.apache.org/documentation/